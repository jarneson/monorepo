[gd_scene load_steps=7 format=3 uid="uid://kbfghuawjers"]

[ext_resource type="Script" path="res://scenes/demo/test_flyer.gd" id="1_2hsfp"]
[ext_resource type="Material" uid="uid://b4i0cps0lllg8" path="res://addons/ply/materials/debug_material_light.tres" id="2_fjqyq"]

[sub_resource type="SphereShape3D" id="SphereShape3D_oufvw"]
radius = 0.475209

[sub_resource type="ArrayMesh" id="ArrayMesh_c4i0r"]
_surfaces = [{
"aabb": AABB(-0.3, -0.3, -0.3, 0.6, 0.6, 0.6),
"format": 4099,
"index_count": 240,
"index_data": PackedByteArray(0, 0, 1, 0, 2, 0, 3, 0, 4, 0, 2, 0, 5, 0, 6, 0, 7, 0, 8, 0, 9, 0, 10, 0, 11, 0, 12, 0, 13, 0, 14, 0, 4, 0, 3, 0, 15, 0, 16, 0, 17, 0, 18, 0, 12, 0, 11, 0, 19, 0, 9, 0, 8, 0, 20, 0, 6, 0, 5, 0, 21, 0, 22, 0, 23, 0, 24, 0, 25, 0, 23, 0, 26, 0, 27, 0, 28, 0, 29, 0, 30, 0, 31, 0, 32, 0, 33, 0, 34, 0, 24, 0, 27, 0, 35, 0, 36, 0, 25, 0, 37, 0, 32, 0, 38, 0, 39, 0, 29, 0, 33, 0, 40, 0, 26, 0, 30, 0, 41, 0, 2, 0, 4, 0, 17, 0, 0, 0, 2, 0, 17, 0, 17, 0, 16, 0, 0, 0, 2, 0, 1, 0, 7, 0, 3, 0, 2, 0, 7, 0, 7, 0, 6, 0, 3, 0, 7, 0, 1, 0, 10, 0, 5, 0, 7, 0, 10, 0, 10, 0, 9, 0, 5, 0, 10, 0, 1, 0, 13, 0, 8, 0, 10, 0, 13, 0, 13, 0, 12, 0, 8, 0, 13, 0, 1, 0, 0, 0, 11, 0, 13, 0, 0, 0, 0, 0, 16, 0, 11, 0, 3, 0, 6, 0, 39, 0, 14, 0, 3, 0, 39, 0, 39, 0, 38, 0, 14, 0, 17, 0, 4, 0, 37, 0, 15, 0, 17, 0, 37, 0, 37, 0, 25, 0, 15, 0, 11, 0, 16, 0, 35, 0, 18, 0, 11, 0, 35, 0, 35, 0, 27, 0, 18, 0, 8, 0, 12, 0, 41, 0, 19, 0, 8, 0, 41, 0, 41, 0, 30, 0, 19, 0, 5, 0, 9, 0, 40, 0, 20, 0, 5, 0, 40, 0, 40, 0, 33, 0, 20, 0, 23, 0, 25, 0, 36, 0, 21, 0, 23, 0, 36, 0, 36, 0, 38, 0, 21, 0, 23, 0, 22, 0, 28, 0, 24, 0, 23, 0, 28, 0, 28, 0, 27, 0, 24, 0, 28, 0, 22, 0, 31, 0, 26, 0, 28, 0, 31, 0, 31, 0, 30, 0, 26, 0, 31, 0, 22, 0, 34, 0, 29, 0, 31, 0, 34, 0, 34, 0, 33, 0, 29, 0, 34, 0, 22, 0, 21, 0, 32, 0, 34, 0, 21, 0, 21, 0, 38, 0, 32, 0, 35, 0, 16, 0, 15, 0, 24, 0, 35, 0, 15, 0, 15, 0, 25, 0, 24, 0, 37, 0, 4, 0, 14, 0, 36, 0, 37, 0, 14, 0, 14, 0, 38, 0, 36, 0, 39, 0, 6, 0, 20, 0, 32, 0, 39, 0, 20, 0, 20, 0, 33, 0, 32, 0, 40, 0, 9, 0, 19, 0, 29, 0, 40, 0, 19, 0, 19, 0, 30, 0, 29, 0, 41, 0, 12, 0, 18, 0, 26, 0, 41, 0, 18, 0, 18, 0, 27, 0, 26, 0),
"primitive": 3,
"vertex_count": 42,
"vertex_data": PackedByteArray(175, 135, 120, 190, 154, 153, 25, 62, 44, 220, 189, 61, 97, 252, 219, 41, 45, 129, 33, 190, 244, 168, 130, 62, 0, 0, 0, 0, 242, 200, 254, 31, 44, 220, 189, 189, 175, 135, 120, 62, 154, 153, 25, 62, 97, 117, 254, 47, 44, 220, 189, 61, 175, 135, 120, 62, 154, 153, 25, 62, 157, 118, 254, 47, 0, 0, 0, 0, 45, 129, 33, 62, 244, 168, 130, 62, 255, 49, 44, 59, 44, 220, 189, 61, 175, 135, 120, 62, 154, 153, 25, 190, 157, 118, 254, 15, 45, 129, 33, 62, 244, 168, 130, 62, 0, 0, 0, 0, 12, 203, 254, 31, 0, 0, 0, 0, 154, 153, 153, 62, 0, 0, 0, 0, 255, 253, 255, 31, 154, 153, 25, 190, 44, 220, 189, 61, 175, 135, 120, 190, 255, 116, 26, 6, 0, 0, 0, 0, 45, 129, 33, 62, 244, 168, 130, 190, 255, 49, 204, 4, 44, 220, 189, 189, 175, 135, 120, 62, 154, 153, 25, 190, 97, 117, 254, 15, 154, 153, 153, 190, 0, 0, 0, 0, 0, 0, 0, 0, 0, 252, 247, 31, 244, 168, 130, 190, 0, 0, 0, 0, 45, 129, 33, 190, 76, 252, 39, 15, 175, 135, 120, 190, 154, 153, 25, 62, 44, 220, 189, 189, 97, 252, 27, 22, 154, 153, 25, 62, 44, 220, 189, 61, 175, 135, 120, 62, 255, 118, 218, 57, 154, 153, 25, 190, 44, 220, 189, 189, 175, 135, 120, 62, 255, 132, 213, 57, 244, 168, 130, 190, 0, 0, 0, 0, 45, 129, 33, 62, 76, 252, 199, 48, 154, 153, 25, 190, 44, 220, 189, 61, 175, 135, 120, 62, 255, 116, 218, 57, 175, 135, 120, 190, 154, 153, 25, 190, 44, 220, 189, 189, 97, 252, 19, 22, 0, 0, 0, 0, 0, 0, 0, 0, 154, 153, 153, 190, 255, 253, 7, 0, 175, 135, 120, 62, 154, 153, 25, 62, 44, 220, 189, 189, 157, 255, 27, 22, 175, 135, 120, 62, 154, 153, 25, 190, 44, 220, 189, 61, 157, 255, 211, 41, 45, 129, 33, 62, 244, 168, 130, 190, 0, 0, 0, 0, 12, 51, 241, 31, 44, 220, 189, 61, 175, 135, 120, 190, 154, 153, 25, 62, 157, 134, 241, 47, 44, 220, 189, 189, 175, 135, 120, 190, 154, 153, 25, 62, 97, 133, 241, 47, 0, 0, 0, 0, 45, 129, 33, 190, 244, 168, 130, 62, 255, 201, 35, 59, 44, 220, 189, 189, 175, 135, 120, 190, 154, 153, 25, 190, 97, 133, 241, 15, 45, 129, 33, 190, 244, 168, 130, 190, 0, 0, 0, 0, 242, 48, 241, 31, 0, 0, 0, 0, 154, 153, 153, 190, 0, 0, 0, 0, 255, 1, 240, 31, 154, 153, 25, 62, 44, 220, 189, 189, 175, 135, 120, 190, 255, 134, 21, 6, 0, 0, 0, 0, 45, 129, 33, 190, 244, 168, 130, 190, 255, 201, 195, 4, 44, 220, 189, 61, 175, 135, 120, 190, 154, 153, 25, 190, 157, 134, 241, 15, 154, 153, 153, 62, 0, 0, 0, 0, 0, 0, 0, 0, 255, 255, 247, 31, 244, 168, 130, 62, 0, 0, 0, 0, 45, 129, 33, 190, 178, 255, 39, 15, 175, 135, 120, 62, 154, 153, 25, 190, 44, 220, 189, 189, 157, 255, 19, 22, 175, 135, 120, 190, 154, 153, 25, 190, 44, 220, 189, 61, 97, 252, 211, 41, 154, 153, 25, 62, 44, 220, 189, 189, 175, 135, 120, 62, 255, 134, 213, 57, 0, 0, 0, 0, 0, 0, 0, 0, 154, 153, 153, 62, 255, 253, 247, 63, 244, 168, 130, 62, 0, 0, 0, 0, 45, 129, 33, 62, 178, 255, 199, 48, 175, 135, 120, 62, 154, 153, 25, 62, 44, 220, 189, 61, 157, 255, 219, 41, 154, 153, 25, 62, 44, 220, 189, 61, 175, 135, 120, 190, 255, 118, 26, 6, 154, 153, 25, 190, 44, 220, 189, 189, 175, 135, 120, 190, 255, 132, 21, 6)
}]

[sub_resource type="ArrayMesh" id="ArrayMesh_trhdj"]
_surfaces = [{
"aabb": AABB(-0.188566, -0.0866026, -0.454813, 0.377132, 0.173205, 0.141431),
"format": 4099,
"index_count": 60,
"index_data": PackedByteArray(0, 0, 1, 0, 2, 0, 0, 0, 2, 0, 3, 0, 0, 0, 3, 0, 4, 0, 4, 0, 5, 0, 0, 0, 6, 0, 7, 0, 8, 0, 9, 0, 6, 0, 8, 0, 10, 0, 9, 0, 8, 0, 8, 0, 11, 0, 10, 0, 7, 0, 6, 0, 2, 0, 7, 0, 2, 0, 1, 0, 6, 0, 9, 0, 3, 0, 6, 0, 3, 0, 2, 0, 3, 0, 9, 0, 10, 0, 10, 0, 4, 0, 3, 0, 5, 0, 4, 0, 10, 0, 10, 0, 11, 0, 5, 0, 5, 0, 11, 0, 8, 0, 8, 0, 0, 0, 5, 0, 8, 0, 7, 0, 1, 0, 8, 0, 1, 0, 0, 0),
"primitive": 3,
"vertex_count": 12,
"vertex_data": PackedByteArray(152, 115, 11, 190, 0, 0, 160, 50, 208, 116, 160, 190, 119, 200, 119, 52, 34, 205, 15, 190, 172, 92, 177, 189, 233, 142, 178, 190, 107, 29, 131, 55, 197, 209, 50, 190, 168, 92, 177, 189, 24, 195, 214, 190, 211, 136, 113, 30, 98, 23, 65, 190, 0, 0, 224, 50, 49, 221, 232, 190, 242, 68, 216, 4, 202, 45, 39, 190, 176, 92, 177, 61, 24, 195, 214, 190, 104, 160, 92, 26, 240, 159, 27, 190, 176, 92, 177, 61, 231, 142, 178, 190, 110, 21, 142, 50, 199, 209, 50, 62, 176, 92, 177, 189, 24, 195, 214, 190, 72, 171, 226, 19, 36, 205, 15, 62, 176, 92, 177, 189, 232, 142, 178, 190, 152, 74, 113, 46, 154, 115, 11, 62, 0, 0, 128, 178, 206, 116, 160, 190, 50, 215, 135, 57, 102, 23, 65, 62, 0, 0, 64, 50, 48, 221, 232, 190, 177, 111, 40, 15, 204, 45, 39, 62, 176, 92, 177, 61, 24, 195, 214, 190, 12, 27, 30, 20, 244, 159, 27, 62, 176, 92, 177, 61, 231, 142, 178, 190, 3, 59, 237, 49)
}]

[sub_resource type="SphereShape3D" id="SphereShape3D_yo05j"]
radius = 75.0

[node name="EnemyFlyer" type="CharacterBody3D"]
collision_layer = 42
collision_mask = 3
script = ExtResource( "1_2hsfp" )
target_node_path = NodePath("../Position3D")

[node name="CollisionShape3D" type="CollisionShape3D" parent="."]
shape = SubResource( "SphereShape3D_oufvw" )

[node name="MeshInstance3D" type="MeshInstance3D" parent="."]
mesh = SubResource( "ArrayMesh_c4i0r" )
surface_material_override/0 = ExtResource( "2_fjqyq" )

[node name="MeshInstance3D" type="MeshInstance3D" parent="MeshInstance3D"]
mesh = SubResource( "ArrayMesh_trhdj" )
surface_material_override/0 = ExtResource( "2_fjqyq" )

[node name="MeshInstance3D2" type="MeshInstance3D" parent="MeshInstance3D"]
transform = Transform3D(0.707107, 0, -0.707107, 0, 1, 0, 0.707107, 0, 0.707107, 0, 0, 0)
mesh = SubResource( "ArrayMesh_trhdj" )
surface_material_override/0 = ExtResource( "2_fjqyq" )

[node name="MeshInstance3D3" type="MeshInstance3D" parent="MeshInstance3D"]
transform = Transform3D(0, 0, -1, 0, 1, 0, 1, 0, 0, 0, 0, 0)
mesh = SubResource( "ArrayMesh_trhdj" )
surface_material_override/0 = ExtResource( "2_fjqyq" )

[node name="MeshInstance3D4" type="MeshInstance3D" parent="MeshInstance3D"]
transform = Transform3D(-0.707107, 0, -0.707107, 0, 1, 0, 0.707107, 0, -0.707107, 0, 0, 0)
mesh = SubResource( "ArrayMesh_trhdj" )
surface_material_override/0 = ExtResource( "2_fjqyq" )

[node name="MeshInstance3D5" type="MeshInstance3D" parent="MeshInstance3D"]
transform = Transform3D(-1, 0, 0, 0, 1, 0, 0, 0, -1, 0, 0, 0)
mesh = SubResource( "ArrayMesh_trhdj" )
surface_material_override/0 = ExtResource( "2_fjqyq" )

[node name="MeshInstance3D6" type="MeshInstance3D" parent="MeshInstance3D"]
transform = Transform3D(-0.707106, 0, 0.707107, 0, 1, 0, -0.707107, 0, -0.707106, 0, 0, 0)
mesh = SubResource( "ArrayMesh_trhdj" )
surface_material_override/0 = ExtResource( "2_fjqyq" )

[node name="MeshInstance3D7" type="MeshInstance3D" parent="MeshInstance3D"]
transform = Transform3D(8.9407e-08, 0, 1, 0, 1, 0, -1, 0, 8.9407e-08, 0, 0, 0)
mesh = SubResource( "ArrayMesh_trhdj" )
surface_material_override/0 = ExtResource( "2_fjqyq" )

[node name="MeshInstance3D8" type="MeshInstance3D" parent="MeshInstance3D"]
transform = Transform3D(0.707107, 0, 0.707106, 0, 1, 0, -0.707106, 0, 0.707107, 0, 0, 0)
mesh = SubResource( "ArrayMesh_trhdj" )
surface_material_override/0 = ExtResource( "2_fjqyq" )

[node name="DetectionRadius" type="Area3D" parent="."]
collision_layer = 0
collision_mask = 16

[node name="CollisionShape3D" type="CollisionShape3D" parent="DetectionRadius"]
shape = SubResource( "SphereShape3D_yo05j" )

[node name="NavigationAgent3D" type="NavigationAgent3D" parent="."]
agent_height_offset = -2.0
navigable_layers = 2
